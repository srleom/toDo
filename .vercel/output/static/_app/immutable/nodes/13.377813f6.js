import{s as ee,h as te,r as se,e as A}from"../chunks/scheduler.e04b059d.js";import{S as ae,i as re,r as ie,s as I,g as w,u as oe,c as U,h as v,j as T,y as G,f as m,k as n,v as ne,a as E,z as f,C as X,B as le,d as de,t as ue,w as ce,m as S,n as O,o as fe}from"../chunks/index.7833e292.js";import{s as me}from"../chunks/index.dfa8a9aa.js";import{t as pe}from"../chunks/Toaster.svelte_svelte_type_style_lang.18abee90.js";import{T as _e}from"../chunks/Toaster.dcd61226.js";import"../chunks/singletons.5f32a592.js";/* empty css                                                         */function Z(r){let e,t=r[1].password+"",s;return{c(){e=w("span"),s=S(t),this.h()},l(i){e=v(i,"SPAN",{class:!0});var _=T(e);s=O(_,t),_.forEach(m),this.h()},h(){n(e,"class","mt-0.5 text-sm font-light text-red-500")},m(i,_){E(i,e,_),f(e,s)},p(i,_){_&2&&t!==(t=i[1].password+"")&&fe(s,t)},d(i){i&&m(e)}}}function he(r){let e;return{c(){e=S("Reset password")},l(t){e=O(t,"Reset password")},m(t,s){E(t,e,s)},d(t){t&&m(e)}}}function we(r){let e;return{c(){e=S("Password updated")},l(t){e=O(t,"Password updated")},m(t,s){E(t,e,s)},d(t){t&&m(e)}}}function ve(r){let e;return{c(){e=S("Updating your new password...")},l(t){e=O(t,"Updating your new password...")},m(t,s){E(t,e,s)},d(t){t&&m(e)}}}function $(r){let e,t='Your password has been updated. Return to the dashboard <a href="/dashboard" class="underline">here</a>.';return{c(){e=w("p"),e.innerHTML=t,this.h()},l(s){e=v(s,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-2o3kzk"&&(e.innerHTML=t),this.h()},h(){n(e,"class","mt-4 text-center text-sm text-indigo-600")},m(s,i){E(s,e,i)},d(s){s&&m(e)}}}function ge(r){var Q;let e,t,s,i,_='<a href="/"><span class="sr-only">Todo</span> <img class="mx-auto h-10 w-auto" src="/favicon.png" alt="Your Company"/></a> <h2 class="mt-10 text-center text-2xl font-medium leading-9 tracking-tight text-gray-900">Reset your password</h2>',M,h,l,g,y,V='<label for="password" class="block text-sm font-medium leading-6 text-gray-900">New Password</label>',D,o,u,F,q,z,x,k,B,C,Y,J;e=new _e({});let d=r[1].password&&Z(r);function K(a,p){var P;return a[3]?ve:(P=a[0])!=null&&P.passwordUpdated?we:he}let H=K(r),b=H(r),c=((Q=r[0])==null?void 0:Q.passwordUpdated)&&$();return{c(){ie(e.$$.fragment),t=I(),s=w("div"),i=w("div"),i.innerHTML=_,M=I(),h=w("div"),l=w("form"),g=w("div"),y=w("div"),y.innerHTML=V,D=I(),o=w("div"),u=w("input"),q=I(),d&&d.c(),z=I(),x=w("div"),k=w("button"),b.c(),B=I(),c&&c.c(),this.h()},l(a){oe(e.$$.fragment,a),t=U(a),s=v(a,"DIV",{class:!0});var p=T(s);i=v(p,"DIV",{class:!0,"data-svelte-h":!0}),G(i)!=="svelte-1juwgyd"&&(i.innerHTML=_),M=U(p),h=v(p,"DIV",{class:!0});var P=T(h);l=v(P,"FORM",{class:!0,action:!0,method:!0});var L=T(l);g=v(L,"DIV",{});var j=T(g);y=v(j,"DIV",{class:!0,"data-svelte-h":!0}),G(y)!=="svelte-1em2ynd"&&(y.innerHTML=V),D=U(j),o=v(j,"DIV",{class:!0});var R=T(o);u=v(R,"INPUT",{id:!0,name:!0,type:!0,"aria-invalid":!0,autocomplete:!0,class:!0}),q=U(R),d&&d.l(R),R.forEach(m),j.forEach(m),z=U(L),x=v(L,"DIV",{});var N=T(x);k=v(N,"BUTTON",{type:!0,class:!0});var W=T(k);b.l(W),W.forEach(m),B=U(N),c&&c.l(N),N.forEach(m),L.forEach(m),P.forEach(m),p.forEach(m),this.h()},h(){n(i,"class","sm:mx-auto sm:w-full sm:max-w-sm"),n(y,"class","flex items-center justify-between"),n(u,"id","password"),n(u,"name","password"),n(u,"type","password"),n(u,"aria-invalid",F=r[1].password?"true":void 0),n(u,"autocomplete","new-password"),u.required=!0,n(u,"class","block w-full rounded-md border-0 px-2.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),n(o,"class","mt-2"),n(k,"type","submit"),n(k,"class","flex h-8 w-full items-center justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"),n(l,"class","space-y-6"),n(l,"action","?/updatePassword"),n(l,"method","POST"),l.noValidate=!0,n(h,"class","mt-10 sm:mx-auto sm:w-full sm:max-w-sm"),n(s,"class","flex min-h-full flex-col justify-center px-6 py-12 lg:px-8")},m(a,p){ne(e,a,p),E(a,t,p),E(a,s,p),f(s,i),f(s,M),f(s,h),f(h,l),f(l,g),f(g,y),f(g,D),f(g,o),f(o,u),X(u,r[2].password),f(o,q),d&&d.m(o,null),f(l,z),f(l,x),f(x,k),b.m(k,null),f(x,B),c&&c.m(x,null),C=!0,Y||(J=[le(u,"input",r[9]),te(r[6].call(null,l))],Y=!0)},p(a,[p]){var P;(!C||p&2&&F!==(F=a[1].password?"true":void 0))&&n(u,"aria-invalid",F),p&4&&u.value!==a[2].password&&X(u,a[2].password),a[1].password?d?d.p(a,p):(d=Z(a),d.c(),d.m(o,null)):d&&(d.d(1),d=null),H!==(H=K(a))&&(b.d(1),b=H(a),b&&(b.c(),b.m(k,null))),(P=a[0])!=null&&P.passwordUpdated?c||(c=$(),c.c(),c.m(x,null)):c&&(c.d(1),c=null)},i(a){C||(de(e.$$.fragment,a),C=!0)},o(a){ue(e.$$.fragment,a),C=!1},d(a){a&&(m(t),m(s)),ce(e,a),d&&d.d(),b.d(),c&&c.d(),Y=!1,se(J)}}}function ye(r,e,t){let s,i,_,{data:M}=e,{form:h}=e;const{form:l,errors:g,enhance:y,delayed:V}=me(M.updatePasswordForm,{resetForm:!0,delayMs:500,timeoutMs:2e3});A(r,l,o=>t(2,i=o)),A(r,g,o=>t(1,s=o)),A(r,V,o=>t(3,_=o));function D(){i.password=this.value,l.set(i)}return r.$$set=o=>{"data"in o&&t(8,M=o.data),"form"in o&&t(0,h=o.form)},r.$$.update=()=>{r.$$.dirty&1&&h!=null&&h.passwordUpdated&&pe.success("Password updated!")},[h,s,i,_,l,g,y,V,M,D]}class Ie extends ae{constructor(e){super(),re(this,e,ye,ge,ee,{data:8,form:0})}}export{Ie as component};
